<div class="container-fluid medical-booking-app">

  <!-- ๐ฏ Hero Slider -->
  <div id="heroSlider" class="carousel slide hero-slider"
    data-bs-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <div class="slider-container">
          <img src="/images/slider4Copy.jpg" class="slider-img slider1"
            alt="ุญุฌุฒ ุจุฏูู ุงูุชุธุงุฑ" />
          <div class="slider-overlay"></div>
          <div class="slider-content">
            <h1>ุฑูุฒู... ูู ุชุฐูุฑุชู ููุฏุฎูู</h1>
            <p>ุฑูุฒ QR ูุงุญุฏ ุนูู ููุจุงููู ูุบููู ุนู ุงูุฒุญูุฉ ูุงูุงุณุชูุณุงุฑ... ุชุงุจุน ุฏูุฑู
              ูุญุธุฉ ุจูุญุธุฉ</p>
            <button class="btn-book-now">ุงุญุฌุฒ ููุนุฏ ุงูุขู</button>
          </div>
        </div>
      </div>

      <div class="carousel-item">
        <div class="slider-container">
          <img src="/images/slider1.png" class="slider-img slider2"
            alt="ุชุงุจุน ุฏูุฑู" />
          <div class="slider-overlay"></div>
          <div class="slider-content">
            <h1>ููุง ููุนุงุฏ ููููุชู ุจุนุฏ ุงูููุงุฑุฏู</h1>
            <p>ููุจุนุชูู ุฅุดุนุงุฑ ูู ูู ุชุฃุฌููุ ุงูุบุงุก ุฃู ูู ูุนุงุฏู ูุฑุจ</p>
            <button class="btn-book-now">ุงุนุฑู ุงููุฒูุฏ</button>
          </div>
        </div>
      </div>

      <div class="carousel-item">
        <div class="slider-container">
          <img src="/images/slider3.png" class="slider-img slider3"
            alt="ุณูููุฉ ุงูุญุฌุฒ" />
          <div class="slider-overlay"></div>
          <div class="slider-content">
            <h1>ูุฃูู ุชุณุชุญู ุงูุฃูุถู</h1>
            <p>ูุฎุจุฉ ูู ุงูุฃุทุจุงุก ุงููุชุฎุตุตูู ูู ุจูุฆุฉ ุทุจูุฉ ูุญุชุฑูุฉ ูุขููุฉ</p>
            <button class="btn-book-now">ุฌุฑุจ ุงูุขู</button>
          </div>
        </div>
      </div>
    </div>

    <button class="carousel-control-prev" type="button"
      data-bs-target="#heroSlider" data-bs-slide="prev">
      <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button"
      data-bs-target="#heroSlider" data-bs-slide="next">
      <span class="carousel-control-next-icon"></span>
    </button>
  </div>

  <!-- ๐ Search Section -->
  <div class="search-section py-4">
    <div class="search-bar-glass">
      <div class="row align-items-center g-2">
        <div class="col-md-1 col-2 text-center">
          <i class="fas fa-search"></i>
        </div>
        <div class="col-md-5 col-10">
          <input
            type="text"
            class="form-control"
            [(ngModel)]="filters.name"
            (input)="onFilterChange()"
            placeholder="ุงุจุญุซ ุนู ุฏูุชูุฑ..." />
        </div>
        <div class="col-md-3">
          <select class="form-select" [(ngModel)]="filters.specializationId"
            (change)="onFilterChange()">
            <option value>ุงุฎุชุฑ ุงูุชุฎุตุต</option>
            @for (spec of specializations; track spec.id) {
            <option [value]="spec.id">{{ spec.name }}</option>
            }
          </select>
        </div>
        <div class="col-md-3">
          <button class="btn btn-primary w-100"
            (click)="getDoctors()">ุจุญุซ</button>
        </div>
      </div>
    </div>
  </div>

  <!-- ๐ Main Content -->
  <div class="row">
    <!-- ๐งญ Sidebar Filters -->
    <div class="col-md-3">
      <div
        class="filters-container p-3 rounded shadow-sm bg-white sticky-sidebar">
        <h5 class="mb-3" style="color: #633c84;">
          <i class="fas fa-sliders-h me-2"></i>ููุชุฑุฉ ุงููุชุงุฆุฌ
        </h5>

        <!-- ุงููุญุงูุธุฉ -->
        <div class="mb-3">
          <label for="city" class="form-label">ุงููุญุงูุธุฉ</label>
          <select id="city" class="form-select" [(ngModel)]="filters.city"
            (change)="onFilterChange()">
            <option value>ูู ุงููุญุงูุธุงุช</option>
            @for (city of cities; track city) {
            <option [value]="city">{{ city }}</option>
            }
          </select>
        </div>

        <!-- ุงูููุทูุฉ -->
        <div class="mb-3">
          <label for="street" class="form-label">ุงูููุทูุฉ</label>
          <input
            type="text"
            id="street"
            class="form-control"
            placeholder="ุงุณู ุงูููุทูุฉ"
            [(ngModel)]="filters.street"
            (input)="onFilterChange()" />
        </div>

        <!-- ุงูููุน -->
        <div class="mb-3">
          <label for="gender" class="form-label">ุงูููุน</label>
          <select id="gender" class="form-select" [(ngModel)]="filters.gender"
            (change)="onFilterChange()">
            <option value>ุงููู</option>
            <option value="0">ุฐูุฑ</option>
            <option value="1">ุฃูุซู</option>
          </select>
        </div>

        <!-- ุงูุณุนุฑ -->
        <div class="mb-3">
          <label class="form-label">ูุทุงู ุงูุณุนุฑ (ุฌููู)</label>
          <div class="d-flex align-items-center gap-2">
            <input
              type="number"
              class="form-control"
              placeholder="ูู"
              [(ngModel)]="filters.minPrice"
              (input)="onFilterChange()" />
            <span class="mx-1">ุฅูู</span>
            <input
              type="number"
              class="form-control"
              placeholder="ุฅูู"
              [(ngModel)]="filters.maxPrice"
              (input)="onFilterChange()" />
          </div>
        </div>
      </div>
    </div>

    <!-- ๐จโโ๏ธ Doctors List -->
    <div class="col-md-9">
      <h3 class="section-title mt-3">ูุชุงุฆุฌ ุงูุจุญุซ</h3>
     <div class="doctors-grid">
  @for (doctor of doctors; track doctor.id) {
    <div class="doctor-card">
      <img
        [src]="doctor.imageUrl || '/images/default-doctor.png'"
        alt="ุตูุฑุฉ ุงูุฏูุชูุฑ"
        class="doctor-photo" />

      <div class="doctor-info">
        <h3>ุฏ. {{ doctor.name }}</h3>
        <p class="specialty">
          <i class="fas fa-stethoscope me-1 icon"></i>
          {{ doctor.specialization }}
        </p>

        <p class="location">
          <i class="fas fa-map-marker-alt me-1 icon"></i>
          {{ doctor.city }}ุ {{ doctor.street }}
        </p>
      </div>

      <div class="doctor-actions mt-2">
        <div class="d-flex align-items-center flex-row-reverse gap-3">
          <button
            class="btn book-button"
            [routerLink]="['/doctorProfile', doctor.id]"
            [queryParams]="{ date: todayDate }">
            ุงุญุฌุฒ ุงูุขู
          </button>

          <div class="price-container">
            <span class="price">{{ doctor.bookingPrice }} ุฌููู</span>
          </div>
        </div>
      </div>
    </div> <!-- โ ุบูู ุงููุงุฑุฏ ููุง -->
  } <!-- โ ุบูู ุงูููุจ ููุง -->
</div>


        <!-- ๐ข Pagination -->
        @if (totalPages > 1) {
        <div class="pagination my-4">
          <button
            [disabled]="filters.pageNumber === 1"
            (click)="changePage(filters.pageNumber - 1)">
            <i class="fas fa-chevron-right"></i>
          </button>
          @for (page of pages; track page) {
          <button
            [class.active]="filters.pageNumber === page"
            (click)="changePage(page)">
            {{ page }}
          </button>
          }
          <button
            [disabled]="filters.pageNumber === totalPages"
            (click)="changePage(filters.pageNumber + 1)">
            <i class="fas fa-chevron-left"></i>
          </button>
        </div>
        }

        <div class="verified-doctors-badge text-center mt-4">
 
        </div>
      </div>
       
    </div>
      
  </div>
<app-footer></app-footer>
