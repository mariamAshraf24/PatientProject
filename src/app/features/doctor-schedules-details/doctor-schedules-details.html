<section class="schedule-container p-4 rounded-4 shadow-lg bg-white">

  <!-- ✅ عنوان وقسم التاريخ -->
  <div class="text-center mb-4">
    <h3 class="text-primary fw-bold mb-2">المواعيد المتاحة</h3>
    <div class="badge bg-gradient rounded-pill px-4 py-2 fs-6 text-white shadow-sm"
         style="background: linear-gradient(135deg, #7b2ff2 0%, #f357a8 100%);">
      {{ detailsschedule?.date | date:'EEEE، d MMMM yyyy':'ar' }}
    </div>
  </div>

  <!-- ✅ شبكة المواعيد -->
  <div class="row g-3 justify-content-center mb-4">
    @for (schedule of schedulesList; track schedule.slotTime) {
      <div class="col-6 col-sm-4 col-md-3">
        <div class="card text-center p-3 border-0 shadow-sm h-100 time-slot-card"
             [ngClass]="{
               'bg-light': !isAvailable(schedule),
               'border-primary border-2': schedule === selectedSchedule,
               'bg-white': isAvailable(schedule)
             }"
             (click)="selectSchedule(schedule)">
          <h5 class="fw-bold mb-1 text-dark">{{ schedule.slotTime }}</h5>
          @if (!isAvailable(schedule)) {
            <span class="badge bg-danger text-white px-3 py-1 small">غير متاح</span>
          } @else {
            <span class="badge bg-success text-white px-3 py-1 small">متاح</span>
          }
        </div>
      </div>
    }
  </div>

  <!-- ✅ اختيار نوع الكشف -->
  <div class="d-flex justify-content-center gap-4 mb-4">
    <label class="form-check form-check-inline">
      <input class="form-check-input" type="radio" name="type" [value]="0" [(ngModel)]="selectedType" />
      <span class="form-check-label fw-semibold text-dark">كشف</span>
    </label>
    <label class="form-check form-check-inline">
      <input class="form-check-input" type="radio" name="type" [value]="1" [(ngModel)]="selectedType" />
      <span class="form-check-label fw-semibold text-dark">متابعة</span>
    </label>
  </div>

  <!-- ✅ زر الحجز -->
  <div class="text-center">
    <button class="btn px-5 py-2 fw-bold rounded-pill shadow-sm"
            [disabled]="!selectedSchedule"
            style="background: linear-gradient(135deg, #7b2ff2 0%, #f357a8 100%); color: white;"
            (click)="bookNow()">
      احجز الآن
    </button>
  </div>
</section>
